{% extends 'BtnMediaBundle::layout.html.twig' %}

{% block main %}
    <h2>Media</h2>
    <div id="category-actions">
    {% if app.request.get('category') %}
        <a href="{{ path('btn_media_mediacontrol_media_new_category', {'category': app.request.get('category')})}}" class="btn btn-success">
            {{ 'btn_media.media.add'|trans }}</a>
        <a href="{{ path('btn_media_mediacontrol_edit_category', {'id': app.request.get('category')})}}" class="btn btn-primary">
            {{ 'btn_media.category.edit'|trans }}</a>
        <a href="{{ path('btn_media_mediacontrol_category_delete', {'id': app.request.get('category')})}}"
            class="btn btn-danger"
            data-confirm="{{ 'btn_admin.category.delete_confirm'|trans }}"
            >
            {{ 'btn_media.category.delete'|trans }}</a>
    {% else %}
        <a href="{{ path('btn_media_mediacontrol_media_new')}}" class="btn btn-success">
            {{ 'btn_media.media.add'|trans }}</a>
    {% endif %}

    </div>
    <table class="table table-striped table-bordered table-condensed">
        <thead>
            <tr>
                <th class="btn-admin-column-id">Id</th>
                <th>Name</th>
                <th>Preview</th>
                <th>{% trans %}btn_admin.actions{% endtrans %}</th>
            </tr>
        </thead>
        <tbody>
        {% for entity in pagination %}
            <tr>
                <td class="btn-admin-column-id">{{ entity.id }}</td>
                <td>{{ entity.name }}</td>
                <td><img src="{{ entity.path|imagine_filter('btn_media_thumb') }}" /></td>
                <td>
                    <a href="{{ path('btn_media_mediacontrol_media_edit', { 'id': entity.id }) }}" class="btn btn-primary">
                        {{ 'btn_admin.media.edit'|trans }}</a>
                    <a href="{{ path('btn_media_mediacontrol_media_delete', { 'id': entity.id }) }}"
                        class="btn btn-danger"
                        data-confirm="{{ 'btn_admin.media.delete_confirm'|trans }}"
                        >
                        {{ 'btn_admin.media.delete'|trans }}</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {{ knp_pagination_render(pagination) }}

{% endblock %}

{# {% block breadcrumb %}
    {% if category is defined and category is not null %}
        {{ breadcrumb({'btn_media_mediacontrol_index': 'btn_admin.list', 'btn_media_mediacontrol_category': category.name }) }}
    {% else %}
        {{ breadcrumb({'btn_media_mediacontrol_index': 'btn_admin.list' }) }}
    {% endif %}
{% endblock %} #}
