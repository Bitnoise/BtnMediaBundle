services:
    liip_imagine.data.loader.stream.btn_media:
        class: "%liip_imagine.binary.loader.stream.class%"
        arguments:
            - 'gaufrette://btn_media/'
        tags:
            - { name: 'liip_imagine.binary.loader', loader: 'stream.btn_media' }
    mediafile.manager:
        class: Btn\MediaBundle\Model\MediaFileManager
        arguments:
            em:          '@doctrine.orm.entity_manager'
            paginator:   '@knp_paginator'
            twig:        '@twig'
            formFactory: '@form.factory'
            container:   '@service_container'
            gaufrette:   '@knp_gaufrette.filesystem_map'
    extension.mediafile:
        class: Btn\MediaBundle\Twig\MediaFileExtension
        arguments: [ '@mediafile.manager' ]
        tags:
            - { name: twig.extension }

    mediafile.uploader:
        class: Btn\MediaBundle\Model\MediaFileUploader
        arguments: [ '@doctrine.orm.entity_manager', '%kernel.cache_dir%' ]


    btn_mediabundle.form.type.medie:
        class: Btn\MediaBundle\Form\Type\MediaType
        tags:
            - { name: form.type, alias: btn_mediabundle_media }
